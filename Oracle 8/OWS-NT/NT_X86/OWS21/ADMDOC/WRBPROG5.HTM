<HTML>
<HEAD>
<TITLE>
Writing Applications Using the Web Request Broker API
</TITLE>
</HEAD>
 
<BODY BGCOLOR="FFFFFF">
 
<A HREF="wrbprog.htm"><IMG SRC="up.jpg" ALIGN=MIDDLE ALT="Top"></A>
<A HREF="wrbprog4.htm"><IMG SRC="previous.jpg" ALIGN=MIDDLE ALT="Previous"></A>
<A HREF="wrbprog6.htm"><IMG SRC="next.jpg" ALIGN=MIDDLE ALT="Next"></A>
<A HREF="contents.htm"><IMG SRC="toc.jpg" ALIGN=MIDDLE ALT="Roadmap"></A>
<A HREF="owshtmli.htm"><IMG SRC="index.jpg" ALIGN=MIDDLE ALT="Index"></A>
<BR>
<IMG SRC="h2omark.gif">
<BR>

<H1>
<A NAME="424441">
The Authorize cartridge function
</A>
</H1>
<HR SIZE=5>
<A NAME="424442">
When the WRB dispatcher directs a request to your cartridge, the WRB application engine calls your Authorize cartridge function if these conditions are true:<P>
</A><ul type=disc><A NAME="424443">
<LI>You have implemented an Authorize function and assigned a pointer to it in the <code>WRBCallbacks</code> function table.
</A>
<A NAME="426624">
<LI>Your cartridge has not been protected explicitly using the <a href="/ows-abin/wrbadmin.exe">WRB administration pages</a>.
</A>
</ul><A NAME="426625">
Your Authorize function must then pass back a boolean value indicating whether the client is authorized to issue the request. You can use the <code>WRBGetUserID()</code>, <code>WRBGetPassword()</code>, and <code>WRBGetClientIPAddress()</code> functions to determine the client's privileges.<P>
</A><A NAME="424446">
You can also use the <code>WRBSetAuthorization()</code> function to set up an authentication realm for the client to use in prompting the user for username and password.<P>
</A><A NAME="424447">
Note: this cartridge function is optional. If you do not implement it, access to your WRB cartridge can be regulated only by through the <a href="/ows-abin/wladmin.exe">Web Listener</a> and <a href="/ows-abin/wrbadmin.exe">WRB configuration</a> pages.<P>
</A><HR>
<H2>
<A NAME="424448">
Syntax
</A>
</H2>
<A NAME="424449">
<PRE>WRBReturnCode <em>prefix</em>_Authorize(void *WRBCtx,<br>                               void *appCtx,<br>                               boolean *bAuthorized);<br></PRE><P>
</A>
<HR>
<H2>
<A NAME="424481">
Parameters<p>
<table border=3>
<tr><th><A NAME="424452">
<H5>Parameter
</H5>
</A>
<th><A NAME="424454">
<H5>Type
</H5>
</A>
<th><A NAME="424456">
<H5>Description
</H5>
</A>

<tr><td><A NAME="424458">
WRBCtx<BR>
</A><td><A NAME="424460">
void *<BR>
</A><td><A NAME="424711">
A pointer to an object used by the WRB application engine that is opaque to your application. You must pass this pointer to any WRB API functions you call.<BR>
</A>
<tr><td><A NAME="424464">
appCtx<BR>
</A><td><A NAME="424466">
void *<BR>
</A><td><A NAME="424720">
A pointer to the application context structure allocated your Init function.<BR>
</A>
<tr><td><A NAME="424470">
bAuthorized<BR>
</A><td><A NAME="424472">
boolean *<BR>
</A><td><A NAME="424474">
Indicates whether the client is authorized to issue the request.<BR>
</A>

</table>

</A>
</H2>
<HR>
<H2>
<A NAME="424482">
Return values
</A>
</H2>
<A NAME="424485">
Your Authorize function must return a value of type <code>WRBReturnCode</code> (see <a href="wrbprog3.htm#421963">Entry-point function return values</a>).<P>
</A><HR>
<H2>
<A NAME="426370">
Example
</A>
</H2>
<A NAME="426371">
See the MyWRBApp sample function <code><a href="mywrbap3.htm#422350">MyWRBApp_Authorize()</a></code>.<P>
</A><HR>
<H2>
<A NAME="424489">
Related information
</A>
</H2>
<A NAME="424490">
See <code><a href="wrbapi20.htm#426119">WRBGetUserID()</a></code>, <code><a href="wrbapi16.htm#425943">WRBGetPassword()</a></code>, <code><a href="wrbapi6.htm#425473">WRBGetClientIP()</a></code>, and <code><a href="wrbapi24.htm#420842">WRBSetAuthorization()</a></code> in the <a href="wrbapi.htm#419865">Web Request Broker API Reference</a>.<P>
</A> <P>
 
<HR>
 
<A HREF="wrbprog.htm"><IMG SRC="up.jpg" ALIGN=MIDDLE ALT="Click Here to "> Go to the top of the section</A><P>
<A HREF="wrbprog4.htm"><IMG SRC="previous.jpg" ALIGN=MIDDLE ALT="Click Here to "> Go to the previous topic</A><P>
<A HREF="wrbprog6.htm"><IMG SRC="next.jpg" ALIGN=MIDDLE ALT="Click Here to "> Go to the next topic</A><P>
<A HREF="contents.htm"><IMG SRC="toc.jpg" ALIGN=MIDDLE ALT="Click Here to "> Go to the Roadmap</A><P>
<A HREF="owshtmli.htm"><IMG SRC="index.jpg" ALIGN=MIDDLE ALT="Click Here to ">Go to the Index</A><BR>
<HR>
<ADDRESS>
To report any problems or comments, email <A HREF="mailto:owsdoc@us.oracle.com">Oracle WebServer Documentation</A>.<P>
</ADDRESS>
 
</BODY>
</HTML>
